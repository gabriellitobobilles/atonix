<form id="timeslidePopupForm" [formGroup]="form" (ngSubmit)="SavePopup()">
  <div class="PopupClose" (click)="CancelPopup()">
    <fa-icon [icon]="faTimesCircle" style="position: absolute; left: 0; top: -7px;"></fa-icon>
  </div>
  <div class="PopupHeader ">Selected Time Slider</div>
  <div class="PopupBody trPopupBody">
    <div class="PopupBodyText trPopupBodyText">
      Adjust the time slider to change the window of time that you are interested in viewing.
    </div>
    <div class="trPopupBodyPanel">
      <div class="trPanelHeader" style="overflow:hidden">
        <span
          *ngIf="!IsRangeValid()"
          style="background-color:#BA5048;font-weight:normal;width:100%;display:inline-block;height:100%"
        >
          {{ ErrorMessage }}
        </span>
        <span>Go to Time:</span>
      </div>

      <div class="trTime">
        <div class="trTimeRow">
          <mat-form-field>
            <input matInput formControlName="startDate" [matDatepicker]="StartDatePicker" placeholder="Start Date:" />
            <mat-datepicker-toggle matSuffix [for]="StartDatePicker"></mat-datepicker-toggle>
            <mat-datepicker #StartDatePicker></mat-datepicker>
          </mat-form-field>
          <mat-form-field> <input matInput type="time" formControlName="startTime" step="0.001" /> </mat-form-field>
        </div>
      </div>

      <div class="trTime">
        <div class="trTimeRow">
          <mat-form-field>
            <input matInput formControlName="endDate" [matDatepicker]="EndDatePicker" placeholder="End Date:" />
            <mat-datepicker-toggle matSuffix [for]="EndDatePicker"></mat-datepicker-toggle>
            <mat-datepicker #EndDatePicker></mat-datepicker>
          </mat-form-field>
          <mat-form-field> <input matInput type="time" formControlName="endTime" step="0.001" /> </mat-form-field>
        </div>
      </div>

      <div style="text-align:center;margin-bottom:5px;">
        <button type="submit" [disabled]="!IsRangeValid()">OK</button>
        <button type="button" [disabled]="!IsRangeValid()" (click)="ApplyPopup()">Apply</button>
        <button type="button" (click)="CancelPopup()">Cancel</button>
      </div>
    </div>

    <div class="trPopupBodyPanel">
      <div class="trPanelHeader">Zoom to</div>
      <div class="trPopupBodyZoomToContainer">
        <button class="top" (click)="ChooseTimeRange('days')" type="button">Day</button>
        <button class="top" (click)="ChooseTimeRange('weeks')" type="button">Week</button>
        <button class="top" (click)="ChooseTimeRange('months')" type="button">Month</button>
        <button class="top" (click)="ChooseTimeRange('quarters')" type="button">Quarter</button>
        <button class="top" (click)="ChooseTimeRange('years')" type="button">Year</button>
      </div>
      <div class="trPopupBodyZoomToContainer">
        <button class="bottom" (click)="CenterOn('future')" type="button">
          <div style="position:absolute;top:3px;left:0;right:0;text-align:center;">Future</div>
          <img src="./assets/icons/future.png" />
        </button>
        <button class="bottom present" (click)="CenterOn('present')" type="button">
          <div style="position:absolute;top:3px;left:0;right:0;text-align:center;">Present</div>
          <img src="./assets/icons/present.png" />
        </button>
        <button class="bottom past" (click)="CenterOn('past')" type="button">
          <div style="position:absolute;top:3px;left:0;right:0;text-align:center;">Past</div>
          <img src="./assets/icons/past.png" />
        </button>
      </div>
    </div>
  </div>
  <div class="PopupFooter trPopupFooter">
    <div (click)="Step('left')"><fa-icon [icon]="faCaretLeft"></fa-icon></div>
    Step
    <div (click)="Step('right')"><fa-icon [icon]="faCaretRight"></fa-icon></div>
  </div>
</form>
